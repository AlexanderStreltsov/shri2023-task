(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const n={all:{title:"Все",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]},kitchen:{title:"Кухня",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"}]},hall:{title:"Зал",items:[{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Выключено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Выключено"}]},lights:{title:"Лампочки",items:[{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"}]},cameras:{title:"Камеры",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]}},c=Object.keys(n);class h{constructor({renderer:t,active:i}){this._renderer=t,this._active=i,this._root=document.querySelector(".section__tabs"),this._keys=Object.keys(n)}add(t){this._root.append(t)}setActive(t){const i=this._root.querySelector("#tab_"+this._active);i.classList.remove("section__tab_active"),i.setAttribute("aria-selected","false"),i.setAttribute("tabindex",!1);const s=this._root.querySelector("#tab_"+t);s.classList.add("section__tab_active"),s.setAttribute("aria-selected","true"),s.setAttribute("tabindex","0"),this._active=t}render(){this._keys.forEach(t=>this._renderer({key:t,title:n[t].title,active:this._active}))}}class u{constructor({key:t,title:i,active:s,handler:e}){this._key=t,this._title=i,this._active=s===t,this._handler=e,this._template=document.querySelector("#tab-template").content.querySelector("li").cloneNode(!0)}_setEvent(){this._template.addEventListener("click",()=>{this._handler(this._key)})}generate(){return this._template.id="tab_"+this._key,this._template["aria-controls"]="panel_"+this._key,this._template.textContent=this._title,this._active&&(this._template.classList.add("section__tab_active"),this._template.setAttribute("aria-selected","true"),this._template.setAttribute("tabindex","0")),this._setEvent(),this._template}}class _{constructor({gadgets:t}){this._gadgets=t,this._root=document.querySelector(".section__panel-wrapper"),this._panel=this._root.querySelector(".section__panel"),this._list=this._root.querySelector(".section__panel-list"),this._arrow=this._root.querySelector(".section__arrow")}render(t){this._panel.id="panel_"+t,this._panel.setAttribute("aria-labelledby","tab_"+t),this._list.innerHTML="",this._gadgets[t].forEach(i=>this._list.append(i)),this._gadgets[t].length>9?this._arrow.classList.remove("arrow_hidden"):this._arrow.classList.add("arrow_hidden")}}class d{constructor({title:t,subtitle:i,icon:s,hidden:e}){this._title=t,this._subtitle=i,this._icon=s,this._hidden=e,this._template=document.querySelector("#gadget-template").content.querySelector("li").cloneNode(!0)}generate(){return this._hidden?this._template.classList.add("hidden"):(this._template.querySelector(".event__title").textContent=this._title,this._template.querySelector(".event__subtitle").textContent=this._subtitle,this._template.querySelector(".event__icon").classList.add("event__icon_"+this._icon)),this._template}}function b(){for(let l=0;l<6;++l)n.all.items=[...n.all.items,...n.all.items];return c.reduce((l,t)=>(l[t]=n[t].items.map((i,s)=>new d({...i,hidden:s>9}).generate()),l),{})}const a=new URLSearchParams(location.search).get("tab")||"all";document.addEventListener("DOMContentLoaded",()=>{const l=new _({gadgets:b()}),t=new h({renderer:i=>{const s=new u({...i,handler:e=>{t.setActive(e),l.render(e)}});t.add(s.generate())},active:a});t.render(),l.render(a)},!1);
